# configuration BDD
spring.datasource.url=jdbc:h2:mem:test;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=postgres
spring.datasource.password=postgres
spring.jpa.defer-datasource-initialization=false

# désactive l'auto configuration de Spring Security
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration

# configuration Flyway
spring.flyway.locations=classpath:db.migrations/common,classpath:db.migrations/test
spring.flyway.clean-disabled=false

# JWT Configuration
# nom du client dans keycloak
jwt.auth.client-id=dyma-tennis-api
# nom de l'atrribut du login pour keycloak
jwt.auth.principal-attribute=preferred_username
# end point keycloak
spring.security.oauth2.resourceserver.jwt.issuer-uri=http://localhost:8090/realms/dyma
spring.security.oauth2.resourceserver.jwk.set-uri=${spring.security.oauth2.resourceserver.jwt.issuer-uri}/protocol/openid-connect/certs
